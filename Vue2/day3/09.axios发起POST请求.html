<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>

  <button id="btnPost">发起POST请求</button>
  <button id="btnGet">发起GET请求</button>

  <script src="./lib/axios.js"></script>
  <script>
    const btnPost = document.querySelector('#btnPost');
    const btnGet = document.querySelector('#btnGet');
    btnPost.addEventListener('click',async () => {
      // 如果调用某个方法的返回值是 promise实例 则前面可以加await
      // await 只能用在被async“修饰”的方法中
      // 对象解构
      const {data} = await axios({
        method:'post',
        url: 'http://www.liulongbin.top:3006/api/post',
        data: {
          name:'jaychou',
          age:20
        }
      });
      console.log(data);
    })
    btnGet.addEventListener('click',async () => {
      // 解构赋值的时候 使用：进行重命名
      // 1.调用axios之后 使用async/await进行简化
      // 2.使用解构赋值 从axios封装的大对象中 把data属性解构出来
      // 3.把解构出来的data属性 使用冒号 进行重命名
      const {data:res} = await axios({
        method:'get',
        url: 'http://www.liulongbin.top:3006/api/getbooks'
      })
      console.log(res.data);
    })
    // $.ajax()   $.get()  $.post()
    // axios()    axios.get()    axios.post()    axios.delete()   axios.put()
  </script>
</body>

</html>